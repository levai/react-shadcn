# å›½é™…åŒ–è§„èŒƒ

## æŠ€æœ¯æ ˆ

ä½¿ç”¨ **react-i18next** ä½œä¸ºå›½é™…åŒ–è§£å†³æ–¹æ¡ˆï¼š

- **i18next**: æ ¸å¿ƒå›½é™…åŒ–æ¡†æ¶
- **react-i18next**: React é›†æˆ
- **i18next-browser-languagedetector**: è‡ªåŠ¨æ£€æµ‹æµè§ˆå™¨è¯­è¨€

## ç›®å½•ç»“æ„

```
src/shared/i18n/
â”œâ”€â”€ config.ts              # i18n é…ç½®
â”œâ”€â”€ index.ts               # ç»Ÿä¸€å¯¼å‡º
â”œâ”€â”€ types.d.ts             # TypeScript ç±»å‹å®šä¹‰
â””â”€â”€ locales/              # è¯­è¨€èµ„æºæ–‡ä»¶
    â”œâ”€â”€ zh-CN/            # ç®€ä½“ä¸­æ–‡
    â”‚   â”œâ”€â”€ common.ts     # é€šç”¨ç¿»è¯‘ï¼ˆåµŒå¥—ç»“æ„ï¼‰
    â”‚   â”œâ”€â”€ auth.ts       # è®¤è¯ç›¸å…³ï¼ˆåµŒå¥—ç»“æ„ï¼‰
    â”‚   â”œâ”€â”€ layout.ts     # å¸ƒå±€ç›¸å…³ï¼ˆåµŒå¥—ç»“æ„ï¼‰
    â”‚   â””â”€â”€ index.ts
    â””â”€â”€ en-US/            # è‹±è¯­
        â”œâ”€â”€ common.ts
        â”œâ”€â”€ auth.ts
        â”œâ”€â”€ layout.ts
        â””â”€â”€ index.ts
```

## ç¿»è¯‘ç»“æ„è¯´æ˜

æ‰€æœ‰ç¿»è¯‘æ–‡ä»¶ä½¿ç”¨**åµŒå¥—ç»“æ„**ï¼ŒæŒ‰åŠŸèƒ½åˆ†ç»„ï¼š

- **common.ts**: `actions`ï¼ˆæ“ä½œï¼‰ã€`status`ï¼ˆçŠ¶æ€ï¼‰ã€`messages`ï¼ˆæ¶ˆæ¯ï¼‰ã€`validation`ï¼ˆéªŒè¯ï¼‰ã€`pagination`ï¼ˆåˆ†é¡µï¼‰
- **auth.ts**: `form`ï¼ˆè¡¨å•ï¼‰ã€`loginPage`ï¼ˆç™»å½•é¡µï¼‰ã€`messages`ï¼ˆæ¶ˆæ¯ï¼‰
- **layout.ts**: `nav`ï¼ˆå¯¼èˆªï¼‰ã€`theme`ï¼ˆä¸»é¢˜ï¼‰ã€`language`ï¼ˆè¯­è¨€ï¼‰ã€`sidebar`ï¼ˆä¾§è¾¹æ ï¼‰
- **home.ts**: `homePage`ï¼ˆé¦–é¡µé¡µé¢å†…å®¹ï¼‰

**ä½¿ç”¨æ–¹å¼ï¼š** `t('actions.confirm')`ã€`t('form.email')`ã€`t('nav.home')`ã€`t('homePage.welcome.title')`ï¼ˆåœ¨ `home` å‘½åç©ºé—´ä¸‹ï¼‰

**å‘½åè§„èŒƒï¼ˆç¬¦åˆä¸šç•Œä¸»æµï¼‰ï¼š** 
- åŠŸèƒ½æ¨¡å—å‘½åç©ºé—´ï¼šä½¿ç”¨åŠŸèƒ½åï¼ˆ`auth`ã€`layout`ã€`home`ï¼‰
- é¡µé¢å†…å®¹é”®åï¼šä½¿ç”¨ `[pageName]Page` æ ¼å¼ï¼ˆ`loginPage.*`ã€`homePage.*`ï¼‰
- ä½¿ç”¨æ–¹å¼ï¼š`useTranslation('home')` ç„¶å `t('homePage.welcome.title')`

## æ”¯æŒçš„è¯­è¨€

- **zh-CN**: ç®€ä½“ä¸­æ–‡ï¼ˆé»˜è®¤ï¼‰
- **en-US**: è‹±è¯­

## VSCode æ’ä»¶é…ç½®ï¼ˆi18n Allyï¼‰

é¡¹ç›®å·²é…ç½® **i18n Ally** æ’ä»¶ï¼Œæ”¯æŒåœ¨ç¼–è¾‘å™¨ä¸­æ˜¾ç¤ºç¿»è¯‘å†…å®¹ã€‚

### é…ç½®æ–‡ä»¶

`.vscode/settings.json`ï¼š

```json
{
  "i18n-ally.localesPaths": ["src/shared/i18n/locales"],
  "i18n-ally.pathMatcher": "{locale}/{namespace}.ts",
  "i18n-ally.enabledParsers": ["ts", "tsx"],
  "i18n-ally.sourceLanguage": "zh-CN",
  "i18n-ally.displayLanguage": "zh-CN",
  "i18n-ally.enabledFrameworks": ["react", "react-i18next"],
  "i18n-ally.keystyle": "nested",
  "i18n-ally.namespace": false,
  "i18n-ally.sortKeys": true,
  "i18n-ally.usage.scanningIgnore": [
    "node_modules/**",
    "dist/**",
    "build/**"
  ]
}
```

### å…³é”®é…ç½®è¯´æ˜

- **`enabledParsers`**: `["ts", "tsx"]` - æ”¯æŒ TypeScript å’Œ TSX æ–‡ä»¶è§£æï¼ˆ**å…³é”®**ï¼‰
- **`enabledFrameworks`**: `["react", "react-i18next"]` - å¯ç”¨ React å’Œ react-i18next æ¡†æ¶æ”¯æŒï¼ˆ**å…³é”®**ï¼‰
- **`pathMatcher`**: `"{locale}/{namespace}.ts"` - åŒ¹é…ç¿»è¯‘æ–‡ä»¶è·¯å¾„æ ¼å¼
- **`keystyle`**: `"nested"` - ä½¿ç”¨åµŒå¥—é”®ç»“æ„
- **`namespace`**: `false` - æ’ä»¶é…ç½®ï¼ˆä»£ç ä¸­ä»ä½¿ç”¨å‘½åç©ºé—´ï¼‰

### æ’ä»¶åŠŸèƒ½

- âœ… **å†…è”ç¿»è¯‘æç¤º** - åœ¨ä»£ç ä¸­æ˜¾ç¤ºä¸­æ–‡ç¿»è¯‘
- âœ… **æ‚¬æµ®çª—æ˜¾ç¤º** - é¼ æ ‡æ‚¬åœæ˜¾ç¤ºç¿»è¯‘å†…å®¹
- âœ… **ç¼ºå¤±é”®è­¦å‘Š** - è‡ªåŠ¨æ£€æµ‹ç¼ºå¤±çš„ç¿»è¯‘é”®
- âœ… **å¿«é€Ÿè·³è½¬** - ç‚¹å‡»ç¿»è¯‘é”®å¿«é€Ÿè·³è½¬åˆ°ç¿»è¯‘æ–‡ä»¶
- âœ… **æ‰¹é‡æå–** - ä»ä»£ç ä¸­æå–ç¡¬ç¼–ç æ–‡æœ¬

### ä½¿ç”¨ç¤ºä¾‹

åœ¨ `.tsx` æ–‡ä»¶ä¸­ä½¿ç”¨ç¿»è¯‘æ—¶ï¼Œæ’ä»¶ä¼šè‡ªåŠ¨æ˜¾ç¤ºç¿»è¯‘å†…å®¹ï¼š

```typescript
// Sidebar.tsx
const { t } = useTranslation('layout')
// æ’ä»¶ä¼šåœ¨ t('sidebar.collapseMenu') ä¸Šæ–¹æ˜¾ç¤ºï¼šæ”¶èµ·èœå•
<span>{t('sidebar.collapseMenu')}</span>
```

### å®‰è£…æ’ä»¶

ç¡®ä¿å®‰è£…äº† **i18n Ally** æ’ä»¶ï¼š
- æ’ä»¶ ID: `lokalise.i18n-ally`
- åœ¨ VSCode æ‰©å±•å¸‚åœºæœç´¢ "i18n Ally" å®‰è£…

## ä½¿ç”¨æ–¹æ³•

### åŸºç¡€ç”¨æ³•

```typescript
import { useTranslation } from '@/shared/i18n'

function Component() {
  const { t } = useTranslation('common')
  
  // ä½¿ç”¨åµŒå¥—ç»“æ„çš„é”®ï¼ˆä½¿ç”¨ç‚¹å·åˆ†éš”ï¼‰
  return <div>{t('actions.confirm')}</div>
}
```

### æŒ‡å®šå‘½åç©ºé—´

```typescript
import { useTranslation } from '@/shared/i18n'

function LoginForm() {
  // å•ä¸ªå‘½åç©ºé—´
  const { t } = useTranslation('auth')
  
  return (
    <form>
      {/* ä½¿ç”¨åµŒå¥—ç»“æ„çš„é”® */}
      <label>{t('form.email')}</label>
      <button>{t('login')}</button>
    </form>
  )
}
```

**æ³¨æ„ï¼š** å¦‚æœç»„ä»¶éœ€è¦ä½¿ç”¨å¤šä¸ªå‘½åç©ºé—´ï¼Œæ¨èä½¿ç”¨å¤šå‘½åç©ºé—´æ–¹å¼ï¼ˆè§ä¸‹æ–¹ï¼‰ã€‚

### ä½¿ç”¨å¤šä¸ªå‘½åç©ºé—´ï¼ˆæ¨èï¼‰

å½“ä¸€ä¸ªç»„ä»¶éœ€è¦ä½¿ç”¨å¤šä¸ªæ¨¡å—çš„ç¿»è¯‘æ—¶ï¼Œå¯ä»¥åŒæ—¶åŠ è½½å¤šä¸ªå‘½åç©ºé—´ï¼š

```typescript
import { useTranslation } from '@/shared/i18n'

function Header() {
  // åŠ è½½å¤šä¸ªå‘½åç©ºé—´ï¼šlayout ä½œä¸ºé»˜è®¤ï¼Œauth ä½œä¸ºè¾…åŠ©
  const { t } = useTranslation(['layout', 'auth'])
  
  return (
    <div>
      {/* é»˜è®¤å‘½åç©ºé—´ï¼ˆlayoutï¼‰çš„é”®ç›´æ¥ä½¿ç”¨ï¼Œæ”¯æŒåµŒå¥—ç»“æ„ */}
      {t('nav.home')}
      {t('nav.dashboard')}
      
      {/* å…¶ä»–å‘½åç©ºé—´çš„é”®ä½¿ç”¨ namespace:key æ ¼å¼ï¼Œæ”¯æŒåµŒå¥—ç»“æ„ */}
      {t('auth:login')}
      {t('auth:messages.loginSuccess')}
    </div>
  )
}
```

**ä¼˜åŠ¿ï¼š**
- âœ… æ— éœ€é¢‘ç¹æŒ‡å®š `{ ns: 'xxx' }`
- âœ… ä»£ç æ›´ç®€æ´
- âœ… ç±»å‹æç¤ºæ›´å¥½

### è·¨å‘½åç©ºé—´ç¿»è¯‘ï¼ˆæ—§æ–¹å¼ï¼Œä¸æ¨èï¼‰

```typescript
// âŒ ä¸æ¨èï¼šéœ€è¦æ¯æ¬¡éƒ½æŒ‡å®šå‘½åç©ºé—´
const { t } = useTranslation('layout')
t('login', { ns: 'auth' }) // éœ€è¦æŒ‡å®š ns
```

**æ¨èä½¿ç”¨ä¸Šé¢çš„å¤šå‘½åç©ºé—´æ–¹å¼ã€‚**

### åµŒå¥—ç»“æ„

ç¿»è¯‘èµ„æºä½¿ç”¨åµŒå¥—ç»“æ„ï¼ŒæŒ‰åŠŸèƒ½åˆ†ç»„ï¼š

```typescript
// common.ts
{
  actions: {
    confirm: 'ç¡®è®¤',
    cancel: 'å–æ¶ˆ',
  },
  status: {
    loading: 'åŠ è½½ä¸­...',
    success: 'æˆåŠŸ',
  },
}

// ä½¿ç”¨æ–¹å¼ï¼šä½¿ç”¨ç‚¹å·åˆ†éš”
const { t } = useTranslation('common')
t('actions.confirm')  // 'ç¡®è®¤'
t('status.loading')   // 'åŠ è½½ä¸­...'
```

### æ’å€¼

```typescript
const { t } = useTranslation('common')

// è¯­è¨€èµ„æºï¼špagination.total: 'å…± {{total}} æ¡'
t('pagination.total', { total: 100 }) // è¾“å‡ºï¼šå…± 100 æ¡
```

### åˆ‡æ¢è¯­è¨€

```typescript
import i18n from '@/shared/i18n'

// åˆ‡æ¢è¯­è¨€
i18n.changeLanguage('en-US')
i18n.changeLanguage('zh-CN')
```

### ä½¿ç”¨è¯­è¨€åˆ‡æ¢ç»„ä»¶

```typescript
import { LanguageToggle } from '@/shared/ui'

function Header() {
  return (
    <header>
      <LanguageToggle />
    </header>
  )
}
```

## æ·»åŠ æ–°è¯­è¨€

### 1. åˆ›å»ºè¯­è¨€èµ„æºæ–‡ä»¶

åœ¨ `src/shared/i18n/locales/[lang]/` ä¸‹åˆ›å»ºå¯¹åº”çš„å‘½åç©ºé—´æ–‡ä»¶ï¼ˆå‚è€ƒç°æœ‰ `zh-CN` å’Œ `en-US` çš„ç»“æ„ï¼‰ï¼š

```typescript
// src/shared/i18n/locales/fr-FR/common.ts
export default {
  actions: {
    confirm: 'Confirmer',
    cancel: 'Annuler',
    // ... å‚è€ƒ zh-CN/common.ts å’Œ en-US/common.ts çš„å®Œæ•´ç»“æ„
  },
  status: {
    loading: 'Chargement...',
    success: 'SuccÃ¨s',
    // ...
  },
  // ... ç¡®ä¿æ‰€æœ‰é”®éƒ½å­˜åœ¨
} as const
```

**é‡è¦ï¼š** æ–°è¯­è¨€çš„ç¿»è¯‘æ–‡ä»¶ç»“æ„å¿…é¡»ä¸ `zh-CN` å’Œ `en-US` å®Œå…¨ä¸€è‡´ï¼Œç¡®ä¿æ‰€æœ‰é”®éƒ½å­˜åœ¨ã€‚

### 2. æ›´æ–°é…ç½®

åœ¨ `src/shared/i18n/config.ts` ä¸­ï¼š

```typescript
import zhCN from './locales/zh-CN'
import enUS from './locales/en-US'
import frFR from './locales/fr-FR'  // æ–°å¢

// æ·»åŠ åˆ° supportedLngs
supportedLngs: ['zh-CN', 'en-US', 'fr-FR'],

// æ·»åŠ åˆ° resources
resources: {
  'zh-CN': {
    common: zhCN.common,
    auth: zhCN.auth,
    layout: zhCN.layout,
  },
  'en-US': {
    common: enUS.common,
    auth: enUS.auth,
    layout: enUS.layout,
  },
  'fr-FR': {  // æ–°å¢
    common: frFR.common,
    auth: frFR.auth,
    layout: frFR.layout,
  },
}
```

### 3. æ›´æ–°è¯­è¨€åˆ‡æ¢ç»„ä»¶

åœ¨ `src/shared/ui/LanguageToggle.tsx` ä¸­æ·»åŠ æ–°è¯­è¨€é€‰é¡¹ï¼š

```typescript
const languages = [
  { code: 'zh-CN', label: 'ç®€ä½“ä¸­æ–‡', flag: 'ğŸ‡¨ğŸ‡³' },
  { code: 'en-US', label: 'English', flag: 'ğŸ‡ºğŸ‡¸' },
  { code: 'fr-FR', label: 'FranÃ§ais', flag: 'ğŸ‡«ğŸ‡·' },  // æ–°å¢
]
```

## æ·»åŠ æ–°çš„å‘½åç©ºé—´

### 1. åˆ›å»ºå‘½åç©ºé—´æ–‡ä»¶

```typescript
// src/shared/i18n/locales/zh-CN/user.ts
export default {
  profile: 'ä¸ªäººèµ„æ–™',
  settings: 'è®¾ç½®',
  // ...
}
```

### 2. æ›´æ–°è¯­è¨€åŒ…ç´¢å¼•

```typescript
// src/shared/i18n/locales/zh-CN/index.ts
import user from './user'

export default {
  common,
  auth,
  layout,
  user, // æ–°å¢
}
```

### 3. æ›´æ–°é…ç½®

åœ¨ `src/shared/i18n/config.ts` ä¸­ï¼š

```typescript
// æ·»åŠ åˆ° ns æ•°ç»„
ns: ['common', 'auth', 'layout', 'user'],

// æ·»åŠ åˆ° resources
resources: {
  'zh-CN': {
    // ...
    user: zhCN.user,
  },
}
```

## æœ€ä½³å®è·µ

### 1. å‘½åç©ºé—´ç»„ç»‡ï¼ˆç¬¦åˆä¸šç•Œä¸»æµ + AI å‹å¥½ï¼‰

**å½“å‰å®ç°ï¼šæŒ‰åŠŸèƒ½æ¨¡å—åˆ†ç»„ + åµŒå¥—ç»“æ„** âœ…

**ä¸šç•Œä¸»æµåšæ³•ï¼š**
- âœ… **æŒ‰åŠŸèƒ½/é¢†åŸŸåˆ†ç»„**ï¼ˆFeature/Domain-basedï¼‰- i18next å®˜æ–¹æ¨è
- âœ… **common ä½œä¸ºé»˜è®¤å‘½åç©ºé—´**ï¼ˆå…¨å±€å…±äº«ç¿»è¯‘ï¼‰
- âœ… **æ”¯æŒæ‡’åŠ è½½**ï¼ˆæŒ‰éœ€åŠ è½½å‘½åç©ºé—´ï¼‰
- âœ… **ä¸ FSD æ¶æ„å¯¹åº”**ï¼ˆfeatures å¯¹åº”å‘½åç©ºé—´ï¼‰

**å‘½åç©ºé—´ç»“æ„ï¼š**

- **common**ï¼ˆé»˜è®¤å‘½åç©ºé—´ï¼‰ï¼šå…¨å±€å…±äº«ç¿»è¯‘
  - `actions.*` - æ“ä½œæŒ‰é’®ï¼ˆç¡®è®¤ã€å–æ¶ˆã€æäº¤ç­‰ï¼‰
  - `status.*` - çŠ¶æ€ï¼ˆåŠ è½½ä¸­ã€æˆåŠŸã€é”™è¯¯ç­‰ï¼‰
  - `messages.*` - æ¶ˆæ¯æç¤º
  - `validation.*` - è¡¨å•éªŒè¯
  - `pagination.*` - åˆ†é¡µ
  - `time.*` - æ—¶é—´ç›¸å…³

- **auth**ï¼šè®¤è¯åŠŸèƒ½æ¨¡å—ï¼ˆå¯¹åº” `features/auth`ï¼‰
  - `form.*` - è¡¨å•å­—æ®µ
  - `loginPage.*` - ç™»å½•é¡µé¢ï¼ˆé¡µé¢å†…å®¹åœ¨åŠŸèƒ½æ¨¡å—å†…ï¼‰
  - `messages.*` - è®¤è¯æ¶ˆæ¯

- **layout**ï¼šå¸ƒå±€æ¨¡å—ï¼ˆå¯¹åº” `shared/ui`ï¼‰
  - `nav.*` - å¯¼èˆªèœå•
  - `theme.*` - ä¸»é¢˜è®¾ç½®
  - `language.*` - è¯­è¨€è®¾ç½®
  - `sidebar.*` - ä¾§è¾¹æ 

- **home**ï¼šé¦–é¡µåŠŸèƒ½æ¨¡å—ï¼ˆå‘½åç©ºé—´æ–‡ä»¶ï¼š`home.ts`ï¼‰
  - `homePage.*` - é¦–é¡µé¡µé¢å†…å®¹ï¼ˆç»Ÿä¸€ä½¿ç”¨ `[pageName]Page` é”®ï¼‰

**å‘½åè§„èŒƒï¼ˆç¬¦åˆä¸šç•Œä¸»æµï¼‰ï¼š**

1. **åŠŸèƒ½æ¨¡å—å‘½åç©ºé—´**ï¼šä½¿ç”¨åŠŸèƒ½åï¼ˆcamelCaseï¼‰
   - `auth`ã€`layout`ã€`home`ã€`dashboard`ã€`user`
   - é¡µé¢å†…å®¹ç»Ÿä¸€ä½¿ç”¨ `[pageName]Page` é”®ï¼š`t('loginPage.title')`ã€`t('homePage.welcome.title')`

2. **å…¨å±€å…±äº«**ï¼šä½¿ç”¨ `common` å‘½åç©ºé—´ï¼ˆé»˜è®¤ï¼‰
   - é”®åæŒ‰åŠŸèƒ½åˆ†ç»„ï¼š`t('actions.confirm')`

**ä¸ FSD æ¶æ„çš„å¯¹åº”å…³ç³»ï¼š**
```
FSD æ¶æ„          â†’  i18n å‘½åç©ºé—´
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
features/auth/    â†’  auth
features/user/    â†’  user
shared/ui/        â†’  layout
ç‹¬ç«‹é¡µé¢          â†’  [pageName]Page
å…¨å±€å…±äº«          â†’  commonï¼ˆé»˜è®¤ï¼‰
```

**ä¸ºä»€ä¹ˆæŒ‰æ¨¡å—åˆ’åˆ†è€Œä¸æ˜¯å•æ–‡ä»¶ï¼Ÿ**

âœ… **æŒ‰æ¨¡å—åˆ’åˆ†çš„ä¼˜åŠ¿ï¼š**
- âœ… ç¬¦åˆä¸šç•Œä¸»æµï¼ˆi18next å®˜æ–¹æ¨èï¼‰
- âœ… æ˜“äºç»´æŠ¤ï¼šç»“æ„æ¸…æ™°ï¼ŒæŒ‰åŠŸèƒ½æŸ¥æ‰¾
- âœ… æ€§èƒ½æ›´å¥½ï¼šå¯æŒ‰éœ€åŠ è½½å‘½åç©ºé—´
- âœ… åä½œå‹å¥½ï¼šä¸åŒæ¨¡å—å¯å¹¶è¡Œç¼–è¾‘
- âœ… å¯æ‰©å±•ï¼šæ–°å¢åŠŸèƒ½æ¨¡å—å®¹æ˜“
- âœ… AI å‹å¥½ï¼šç»“æ„æ¸…æ™°ï¼Œæ˜“äºç†è§£

âŒ **å•æ–‡ä»¶çš„ç¼ºç‚¹ï¼š**
- âŒ éš¾ä»¥ç»´æŠ¤ï¼šæ–‡ä»¶è¿‡å¤§ï¼ŒæŸ¥æ‰¾å›°éš¾
- âŒ æ€§èƒ½å·®ï¼šå¿…é¡»åŠ è½½å…¨éƒ¨ç¿»è¯‘
- âŒ åä½œå†²çªï¼šå¤šäººç¼–è¾‘åŒä¸€æ–‡ä»¶
- âŒ ç¼ºä¹ç»„ç»‡ï¼šæ— æ³•æŒ‰åŠŸèƒ½å®šä½


### 2. ä½•æ—¶æŒ‰ Feature æ¨¡å—åˆ’åˆ†

å¯¹äºå¤§å‹é¡¹ç›®ï¼ˆ> 20 ä¸ªåŠŸèƒ½æ¨¡å—ï¼‰ï¼Œå¯ä»¥è¿›ä¸€æ­¥ç»†åŒ–ï¼š

- **user**: ç”¨æˆ·æ¨¡å—
- **product**: äº§å“æ¨¡å—
- **order**: è®¢å•æ¨¡å—
- ç­‰ç­‰...

**å½“å‰é¡¹ç›®è§„æ¨¡é€‚ä¸­ï¼Œä¿æŒç°æœ‰ç»“æ„å³å¯ã€‚**

### 2. ç¿»è¯‘é”®å‘½åï¼ˆåµŒå¥—ç»“æ„ï¼‰

**å½“å‰å®ç°ä½¿ç”¨åµŒå¥—å¯¹è±¡ç»“æ„ï¼Œæ›´ç¬¦åˆ TypeScript ç±»å‹æ¨æ–­ï¼š**

```typescript
// âœ… æ¨èï¼šåµŒå¥—å¯¹è±¡ç»“æ„
export default {
  form: {
    email: {
      label: 'é‚®ç®±',
      placeholder: 'è¯·è¾“å…¥é‚®ç®±',
    },
    submit: 'æäº¤',
  },
} as const

// ä½¿ç”¨ï¼št('form.email.label')
```

```typescript
// âš ï¸ ä¹Ÿå¯ä»¥ä½¿ç”¨æ‰å¹³çš„ç‚¹å·é”®ï¼ˆä½†ä¸å¦‚åµŒå¥—ç»“æ„æ¸…æ™°ï¼‰
{
  'form.email.label': 'é‚®ç®±',
  'form.email.placeholder': 'è¯·è¾“å…¥é‚®ç®±',
}

// âŒ ä¸æ¨èï¼šæ‰å¹³ä¸”æ— ç»„ç»‡
{
  'emailLabel': 'é‚®ç®±',
  'emailPlaceholder': 'è¯·è¾“å…¥é‚®ç®±',
}
```

**ä¼˜åŠ¿ï¼š**
- âœ… ç»“æ„æ¸…æ™°ï¼ŒæŒ‰åŠŸèƒ½åˆ†ç»„
- âœ… TypeScript ç±»å‹æ¨æ–­æ›´å‡†ç¡®
- âœ… æ˜“äºç»´æŠ¤å’Œæ‰©å±•

### 3. é¿å…ç¡¬ç¼–ç 

```typescript
// âŒ é”™è¯¯
<button>ç™»å½•</button>

// âœ… æ­£ç¡®
<button>{t('login', { ns: 'auth' })}</button>
```

### 4. ç±»å‹å®‰å…¨ï¼ˆå¯é€‰ï¼‰

å¯ä»¥åˆ›å»ºç±»å‹å®šä¹‰æ–‡ä»¶ï¼š

```typescript
// src/shared/i18n/types.ts
export interface TranslationKeys {
  common: typeof import('./locales/zh-CN/common').default
  auth: typeof import('./locales/zh-CN/auth').default
  layout: typeof import('./locales/zh-CN/layout').default
}
```

## è¯­è¨€æ£€æµ‹

i18n ä¼šè‡ªåŠ¨æ£€æµ‹ç”¨æˆ·è¯­è¨€ï¼š

1. **localStorage**: æ£€æŸ¥ `i18nextLng` é”®ï¼ˆç”¨æˆ·ä¹‹å‰çš„é€‰æ‹©ï¼‰
2. **navigator**: æ£€æµ‹æµè§ˆå™¨è¯­è¨€
3. **fallback**: ä½¿ç”¨é»˜è®¤è¯­è¨€ `zh-CN`

ç”¨æˆ·é€‰æ‹©çš„è¯­è¨€ä¼šä¿å­˜åœ¨ `localStorage` ä¸­ï¼Œä¸‹æ¬¡è®¿é—®ä¼šè‡ªåŠ¨åº”ç”¨ã€‚

## ä¸ Toast é›†æˆ

```typescript
import { toast } from 'sonner'
import { useTranslation } from '@/shared/i18n'

function Component() {
  const { t } = useTranslation('common')
  
  const handleSuccess = () => {
    toast.success(t('operationSuccess'))
  }
  
  const handleError = () => {
    toast.error(t('operationFailed'))
  }
}
```

## æ³¨æ„äº‹é¡¹

1. **åˆå§‹åŒ–æ—¶æœº**: i18n åœ¨ `main.tsx` ä¸­åˆå§‹åŒ–ï¼Œç¡®ä¿åœ¨æ‰€æœ‰ç»„ä»¶ä¹‹å‰åŠ è½½
2. **Provider é¡ºåº**: `I18nProvider` éœ€è¦åœ¨ `ThemeProvider` ä¹‹å‰
3. **æ€§èƒ½**: è¯­è¨€èµ„æºåœ¨æ„å»ºæ—¶æ‰“åŒ…ï¼Œæ— éœ€è¿è¡Œæ—¶åŠ è½½
4. **ç±»å‹æ£€æŸ¥**: å»ºè®®ä½¿ç”¨ TypeScript ç¡®ä¿ç¿»è¯‘é”®çš„æ­£ç¡®æ€§
